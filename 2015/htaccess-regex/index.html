<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Hugh&#39;Blog › .htaccess正则表达式</title>
  <meta name="author" content="Hugh Shen">
  
  <meta name="description" content="转载于：http://www.oseye.net/user/199/blog/100
.htaccess正则表达式">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <meta property="og:title" content=".htaccess正则表达式"/>
  <meta property="og:site_name" content="Hugh&#39;Blog"/>

  
    <meta property="og:image" content="undefined"/>
  

  <link href="/favicon.png" rel="icon">
  <link rel="alternate" href="/atom.xml" title="Hugh&#39;Blog" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  
</head>


<body>
  <header id="header"><div class="meta inner">
  <h1><a href="/">Hugh&#39;Blog</a></h1>
  <h2><a href="/"></a></h2>
  <nav id="main-nav">
    <ul>
      
      <li><a href="/">首页</a></li>
      
      <li><a href="/archives">归档</a></li>
      
      <li><a href="/categories">分类</a></li>
      
      <li><a href="/tags">标签</a></li>
      
    </ul>
    <div class="clearfix"></div>
  </nav>
</div>
<div class="clearfix"></div>
</header>
  <div id="content" class="inner">
    <div id="main-col" class="alignleft"><div id="wrapper"><article class="post">
  <div class="post-content">
    <header>
      
  
    <h1 class="title">.htaccess正则表达式</h1>
  

      
      <time datetime="2015-04-26T18:33:46.000Z">发表于2015-04-27</time>
      
    </header>
    <div class="entry">
      
        <p>转载于：<a href="http://www.oseye.net/user/199/blog/100" target="_blank" rel="external">http://www.oseye.net/user/199/blog/100</a></p>
<h3 id="-htaccess正则表达式">.htaccess正则表达式</h3><a id="more"></a>
<p><code>#</code> 位于行首时表示注释<br><code>[F]</code> Forbidden（禁止）： 命令服务器返回 403 Forbidden错误给用户浏览器<br><code>[L]</code> Last rule（最后一条规则）： 告诉服务器在本条规则执行完后停止重写URL<br><code>[N]</code> Next(下一条规则)： 告诉服务器继续重写，指导所有重写指令都执行过<br><code>[G]</code> Gone（丢失）: 命令服务器返回410 GONE(no longer exists)错误消息<br><code>[P]</code> Proxy（代理）: 告诉服务器通过mod_proxy模块处理用户请求<br><code>[C]</code> Chain（捆绑）: 告诉服务器将当前的规则和前面的规则进行捆绑<br><code>[R]</code> Redirect（重定向）: 命令服务器发出重定向消息，以便用户浏览器发出rewritten/modified（重写/修改）URL的请求<br><code>[NC]</code> No Case（不区分大小写）: 对客户端请求的URL不区分大小写<br><code>[PT]</code> Pass Through（放行）: 让mod_rewrite模块将重写的URL传回给Apache做进一步处理<br><code>[OR]</code> Or（逻辑或）: 用逻辑“或”将两个表达式连接在一起，如果结果为“真”，则会应用后继的相关规则<br><code>[NE]</code> No Escape（禁用转义）: 命令服务器在输出时禁用转义字符<br><code>[NS]</code> No Subrequest（禁用子请求）: 如果存在内部子请求，则跳过当前命令<br><code>[QSA]</code> Append Query String（追加查询字符串）: 命令服务器在URL末尾追加查询字符串<br><code>[S=x]</code> Skip（跳过）: 如果满足某指定的条件，则跳过后面第x调规则<br><code>[E=variable:value]</code> Environmental Variable（环境变量）: 命令服务器将值value赋给变量variable<br><code>[T=MIME-type]</code> Mime Type（MIME类型）: 声明目标资源所属的MIME类型<br><code>[]</code> 匹配一个字符集合，例如[xyz]可以匹配x, y或者z<br><code>[]+</code> 例如[xyz]+会以任何顺序、次数匹配x,y,z的出现<br><code>[^]</code> 字符^表示字符集的补集。[^xyz]将匹配没有x,y或者z的字符串<br><code>[a-z]</code> 连字符(-)表示匹配从字母a到字母z的所有字符串<br><code>a{n}</code> 指定字母a出现的次数为n次，满足该条件时匹配。例如x{3}仅与xxx匹配<br><code>a{n,}</code> 指定字母a出现的次数至少为n次，例如x{3,}可以与xxx或者xxxx等匹配<br><code>a{n,m}</code> 指定a出现的次数至少为n到m次。<br><code>()</code> 用于将正则表达式分组，满足第一组正则表达式的字符串会被存储在变量$1中，以此类推。如果括号中的不是正则表达式，例如(perishable)?press 将能够匹配有或者没有perishable前缀的press<br><code>^</code> 位于行首。注意：和中括号中的[^]意义不同。<br><code>$</code> 位于行末<br><code>?</code> 例如 monzas? 会匹配 monza 或者 monzas，而 mon(za)? 会匹配 mon 或者 monza。又如 x? 会匹配“空字符” 或者 一个x<br><code>!</code> 逻辑非。例如“!string” 将会匹配除了“string”以外的所有字符串<br><code>.</code> 表示任意字符串<br><code>-</code> 命令Apache“不要”重写URL，例如“xxx.domain.com.星号 – [F]”<br><code>+</code> 匹配至少一个任意字符，例如G+匹配以G开头、并且后面至少有一个字符的字符串<br><code>星号</code> 匹配零个或多个字符，例如“.星号”匹配任意字符串<br><code>|</code> 逻辑“或”，与[OR]不同的是，它只匹配字符串，例如(x|y)匹配x或者y<br><code>\</code> 转义字符。可以转义左括号( 尖字符^ 美元符号$ 感叹号! 点. 星号星号 管道符号| 右括号) 等<br><code>\.</code> 转义为点字符（点字符在正则表达式中可以匹配任意字符）<br><code>/星号</code> 零个或多个正斜杠<br><code>.星号</code> 零个或多个任意字符（即，匹配任意字符串，包括空字符）<br><code>^$</code> 匹配“空字符”、“空行”<br><code>^.星号$</code> 匹配任意字符串（仅限一行）<br><code>[^/.]</code> 匹配既非“正斜杠”也不是“点”的任意字符<br><code>[^/.]+</code> 匹配第一个字符既非“正斜杠”也不是“点”，后继字符可以是“正斜杠”或者“点”的字符串<br><code>http://</code> 匹配“http://”<br><code>^domain.星号</code> 匹配以“domain”开始的字符串<br><code>^domain\.com$</code> 仅匹配“domain.com”<br><code>-d</code> 测试字符串是否是已存在的目录<br><code>-f</code> 测试字符串是否是已存在的文件<br><code>-s</code> 测试字符串所指文件是否有“非零”值</p>
<h3 id="HTTP协议重定向编码">HTTP协议重定向编码</h3><p>301 – Moved Permanently<br>302 – Moved Temporarily<br>403 – Forbidden<br>404 – Not Found<br>410 – Gone</p>

      
    </div>
    
    <footer>
      <div class="alignleft">
      
  
  <div class="categories">
    <a href="/categories/PHP/">PHP</a>
  </div>

      
  
  <div class="tags">
    <a href="/tags/htaccess/">htaccess</a>, <a href="/tags/regex/">regex</a>
  </div>

      </div>
      <div class="clearfix"></div>
    </footer>
    
  </div>
</article>


<section id="comment">
  
</section>

</div></div>
    <div class="clearfix"></div>
  </div>
  <footer id="footer"><div class="inner"><div class="alignleft">
  <p>
  
    &copy; 2015 Hugh Shen
  
  </p>
  <p>
    <a href="http://github.com/willerce/hexo-theme-noderce">Noderce</a> Theme By <a href="http://willerce.com" >willerce</a>
  </p>

</div>
<div class="clearfix"></div></div></footer>
  <script type="text/javascript">
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-62100459-1', 'auto');
  ga('send', 'pageview');

</script>

</body>
</html>
